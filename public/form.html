<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Formulario público de registro profesional">
  <meta name="theme-color" content="#0d6efd">
  <title>Formulario de Registro</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen py-8 px-4">
  <!-- Toast Container -->
  <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

  <!-- Loader -->
  <div id="loader" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
    <div class="bg-white rounded-lg p-8 flex flex-col items-center gap-4">
      <i class="fas fa-spinner fa-spin text-4xl text-blue-600"></i>
      <span class="text-lg font-semibold text-gray-800">Procesando...</span>
    </div>
  </div>

  <!-- Error Screen -->
  <div id="error-screen" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
    <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 text-center">
      <div class="bg-red-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-times-circle text-4xl text-red-600"></i>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-2">Error</h2>
      <p id="error-screen-message" class="text-gray-600 mb-6"></p>
      <button onclick="location.reload()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
        Intentar de nuevo
      </button>
    </div>
  </div>

  <!-- Anti-Duplicate Modal -->
  <div id="duplicate-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
    <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
      <div class="bg-yellow-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-exclamation-triangle text-4xl text-yellow-600"></i>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-2 text-center">Registro Duplicado</h2>
      <p class="text-gray-600 mb-6 text-center">
        Ya existe un registro con esta cédula. ¿Deseas continuar de todas formas?
      </p>
      <div class="flex gap-3">
        <button onclick="closeDuplicateModal()" class="flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition font-semibold">
          Cancelar
        </button>
        <button onclick="confirmDuplicateSubmit()" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition font-semibold">
          Continuar
        </button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
    <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 text-center animate-bounce">
      <div class="bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
        <i class="fas fa-check-circle text-4xl text-green-600"></i>
      </div>
      <h2 class="text-2xl font-bold text-gray-800 mb-2">¡Registro Exitoso!</h2>
      <p class="text-gray-600 mb-2">Tu registro ha sido confirmado.</p>
      <p class="text-sm text-gray-500 mb-6">ID: <span id="registration-id" class="font-mono font-bold text-gray-700"></span></p>
      <div class="flex gap-3">
        <button onclick="registerAnother()" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition font-semibold">
          Registrar Otro
        </button>
        <button onclick="closeForm()" class="flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition font-semibold">
          Cerrar
        </button>
      </div>
    </div>
  </div>

  <div class="container mx-auto max-w-2xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <div class="inline-block bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full p-4 mb-4">
        <i class="fas fa-clipboard-list text-4xl text-blue-600"></i>
      </div>
      <h1 class="text-4xl font-bold text-gray-800 mb-2">Formulario de Registro</h1>
      <p class="text-gray-600" id="event-name">Completa tus datos para ser registrado en el evento</p>
    </div>

    <!-- Información del Líder -->
    <div id="leader-info" class="hidden bg-white rounded-lg shadow-lg p-6 mb-8 border-l-4 border-green-500">
      <div class="flex items-center gap-4">
        <div class="bg-green-100 rounded-full p-3 flex-shrink-0">
          <i class="fas fa-check-circle text-2xl text-green-600"></i>
        </div>
        <div>
          <p class="text-sm text-gray-600">Registrando con:</p>
          <p id="leader-name" class="text-2xl font-bold text-gray-800"></p>
        </div>
      </div>
    </div>

    <!-- Formulario -->
    <div class="bg-white rounded-lg shadow-lg p-8">
      <form id="publicForm" class="space-y-6">
        <!-- Nombre -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-user text-blue-600 mr-2"></i>Nombre Completo *
          </label>
          <input 
            id="firstName" 
            type="text"
            placeholder="Juan Carlos"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
          >
          <p id="firstName-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Apellido -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-user text-blue-600 mr-2"></i>Apellido *
          </label>
          <input 
            id="lastName" 
            type="text"
            placeholder="Pérez García"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
          >
          <p id="lastName-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Cédula -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-id-card text-blue-600 mr-2"></i>Cédula *
          </label>
          <input 
            id="cedula" 
            type="text"
            placeholder="1234567890"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
          >
          <p id="cedula-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Teléfono -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-phone text-blue-600 mr-2"></i>Teléfono *
          </label>
          <input 
            id="phone" 
            type="tel"
            placeholder="3001234567"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
          >
          <p id="phone-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Email -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <i class="fas fa-envelope text-blue-600 mr-2"></i>Email (Opcional)
          </label>
          <input 
            id="email" 
            type="email"
            placeholder="tu@email.com"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
          >
          <p id="email-error" class="text-red-600 text-sm mt-1 hidden"></p>
        </div>

        <!-- Botones -->
        <div class="flex gap-4 pt-6">
          <button 
            id="submitBtn"
            type="submit" 
            class="flex-1 bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-all shadow-md flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <i class="fas fa-paper-plane"></i>
            Enviar Registro
          </button>
          <button 
            type="reset" 
            class="flex-1 bg-gray-300 text-gray-800 font-semibold py-3 rounded-lg hover:bg-gray-400 transition"
          >
            <i class="fas fa-redo mr-2"></i>Limpiar
          </button>
        </div>
      </form>

      <!-- Info adicional -->
      <div class="mt-8 pt-8 border-t border-gray-200">
        <p class="text-sm text-gray-600 text-center">
          <i class="fas fa-shield-alt text-green-600 mr-2"></i>
          Tus datos están protegidos y se usarán solo para este evento
        </p>
      </div>
    </div>
  </div>

  <script src="assets/js/form.js"></script>
</body>
</html>