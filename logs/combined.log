{"level":"error","message":"Uncaught Exception: listen EADDRINUSE: address already in use :::5000","service":"mi-servidor","stack":"Error: listen EADDRINUSE: address already in use :::5000\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at Server.listen (node:net:2102:7)\n    at app.listen (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\express\\lib\\application.js:635:24)\n    at start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:24:7)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 01:37:22"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 01:37:36"}
{"level":"info","message":"GET /health 200 3ms","service":"mi-servidor","timestamp":"2026-02-17 01:37:53"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 01:38:45"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 01:59:27"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 02:41:43"}
{"error":"mongoose is not defined","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"ReferenceError: mongoose is not defined\n    at connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:7)\n    at start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:9)\n    at file:///C:/Users/Janus/Desktop/mi-servidor/server.js:29:1\n    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:691:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)","timestamp":"2026-02-17 05:10:03"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 05:10:03"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 05:10:03"}
{"error":"mongoose is not defined","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"ReferenceError: mongoose is not defined\n    at connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:7)\n    at start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:9)\n    at file:///C:/Users/Janus/Desktop/mi-servidor/server.js:29:1\n    at ModuleJob.run (node:internal/modules/esm/module_job:377:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:691:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)","timestamp":"2026-02-17 05:10:34"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 05:10:34"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 05:10:34"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 05:10:57"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 05:11:35"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 05:11:35"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 05:11:35"}
{"level":"info","message":"GET /health 200 5ms","service":"mi-servidor","timestamp":"2026-02-17 05:12:03"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:12:16"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:12"}
{"error":"Operation `leaders.findOne()` buffering timed out after 10000ms","level":"error","message":"Create registration error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:14:23"}
{"level":"info","message":"POST /registrations 500 10007ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:23"}
{"level":"info","message":"GET /leaders 401 2ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:23"}
{"level":"info","message":"GET /leaders 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:24"}
{"level":"info","message":"GET /leaders 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:24"}
{"level":"info","message":"GET /leaders 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:25"}
{"level":"info","message":"GET /stats 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:25"}
{"level":"info","message":"GET /stats 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:26"}
{"level":"info","message":"GET /audit-logs 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:26"}
{"level":"info","message":"GET /events 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:27"}
{"level":"info","message":"POST /events 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:27"}
{"level":"info","message":"POST /events 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:28"}
{"level":"info","message":"GET /registrations 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:28"}
{"level":"info","message":"GET /organizations 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:29"}
{"level":"info","message":"GET /organizations 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:29"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:47"}
{"error":"Operation `leaders.findOne()` buffering timed out after 10000ms","level":"error","message":"Create registration error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:14:58"}
{"level":"info","message":"POST /registrations 500 10001ms","service":"mi-servidor","timestamp":"2026-02-17 05:14:58"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:15:08"}
{"level":"info","message":"GET /leaders 500 10002ms","service":"mi-servidor","timestamp":"2026-02-17 05:15:08"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:15:19"}
{"level":"info","message":"GET /leaders 500 10003ms","service":"mi-servidor","timestamp":"2026-02-17 05:15:19"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:15:29"}
{"level":"info","message":"GET /leaders 500 10001ms","service":"mi-servidor","timestamp":"2026-02-17 05:15:29"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:15:40"}
{"level":"info","message":"GET /leaders 500 10003ms","service":"mi-servidor","timestamp":"2026-02-17 05:15:40"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 05:16:18"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 05:16:18"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 05:16:18"}
{"level":"info","message":"GET /health 200 6ms","service":"mi-servidor","timestamp":"2026-02-17 05:16:24"}
{"level":"info","message":"GET /leaders 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:16:24"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:16:34"}
{"level":"info","message":"GET /leaders 500 10008ms","service":"mi-servidor","timestamp":"2026-02-17 05:16:34"}
{"error":"Operation `organizations.find()` buffering timed out after 10000ms","level":"error","message":"Get organizations error:","service":"mi-servidor","timestamp":"2026-02-17 05:16:44"}
{"level":"info","message":"GET /organizations 500 10003ms","service":"mi-servidor","timestamp":"2026-02-17 05:16:44"}
{"level":"info","message":"GET /organizations 403 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:16:44"}
{"level":"info","message":"POST /registrations 400 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:16:44"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 05:20:09"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 05:20:09"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 05:20:09"}
{"level":"info","message":"GET /health 200 3ms","service":"mi-servidor","timestamp":"2026-02-17 05:20:35"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:20:41"}
{"level":"info","message":"GET /leaders 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:20:41"}
{"level":"info","message":"GET /organizations 403 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:20:45"}
{"level":"info","message":"POST /registrations 400 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:20:45"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:20:51"}
{"error":"Operation `organizations.find()` buffering timed out after 10000ms","level":"error","message":"Get organizations error:","service":"mi-servidor","timestamp":"2026-02-17 05:20:53"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:20:55"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:20:57"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:01"}
{"level":"info","message":"GET /leaders 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:01"}
{"level":"info","message":"GET /organizations 403 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:10"}
{"level":"info","message":"POST /registrations 400 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:10"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:21:11"}
{"error":"Operation `organizations.find()` buffering timed out after 10000ms","level":"error","message":"Get organizations error:","service":"mi-servidor","timestamp":"2026-02-17 05:21:15"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:21:20"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:21:24"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:44"}
{"level":"info","message":"GET /leaders 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:44"}
{"level":"info","message":"GET /organizations 403 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:53"}
{"level":"info","message":"POST /registrations 400 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:21:53"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:21:54"}
{"error":"Operation `organizations.find()` buffering timed out after 10000ms","level":"error","message":"Get organizations error:","service":"mi-servidor","timestamp":"2026-02-17 05:21:58"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:22:03"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:22:07"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:22:35"}
{"level":"info","message":"GET /leaders 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:22:35"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:22:45"}
{"level":"info","message":"GET /leaders 500 10013ms","service":"mi-servidor","timestamp":"2026-02-17 05:22:45"}
{"level":"info","message":"POST /registrations 400 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:22:45"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:22:59"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:23:02"}
{"level":"info","message":"GET /leaders 401 1ms","service":"mi-servidor","timestamp":"2026-02-17 05:23:10"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 05:23:20"}
{"level":"info","message":"GET /leaders 500 10014ms","service":"mi-servidor","timestamp":"2026-02-17 05:23:20"}
{"level":"info","message":"POST /registrations 400 0ms","service":"mi-servidor","timestamp":"2026-02-17 05:23:20"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 10:43:35"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 10:43:35"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 10:43:35"}
{"level":"info","message":"GET /health 200 4ms","service":"mi-servidor","timestamp":"2026-02-17 10:44:08"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 10:44:24"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 10:46:16"}
{"level":"info","message":"GET /organizations 401 0ms","service":"mi-servidor","timestamp":"2026-02-17 10:46:16"}
{"level":"info","message":"GET /organizations 403 1ms","service":"mi-servidor","timestamp":"2026-02-17 10:46:21"}
{"error":"Operation `organizations.find()` buffering timed out after 10000ms","level":"error","message":"Get organizations error:","service":"mi-servidor","timestamp":"2026-02-17 10:46:26"}
{"error":"Operation `leaders.find()` buffering timed out after 10000ms","level":"error","message":"Get leaders error:","service":"mi-servidor","stack":"MongooseError: Operation `leaders.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 10:46:31"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 10:59:00"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 10:59:00"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 10:59:00"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 11:00:20"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 11:00:20"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 11:00:20"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 11:00:42"}
{"level":"info","message":"GET /health 200 4ms","service":"mi-servidor","timestamp":"2026-02-17 11:02:52"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 11:21:01"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 11:50:12"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"error","message":"MongoDB error:","service":"mi-servidor","stack":"MongooseError: Operation `admins.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 11:50:29"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 11:51:39"}
{"level":"warn","message":"Route not found: GET /favicon.ico","service":"mi-servidor","timestamp":"2026-02-17 11:52:01"}
{"level":"info","message":"GET /favicon.ico 404 1ms","service":"mi-servidor","timestamp":"2026-02-17 11:52:01"}
{"level":"warn","message":"Route not found: GET /.well-known/appspecific/com.chrome.devtools.json","service":"mi-servidor","timestamp":"2026-02-17 11:52:24"}
{"level":"info","message":"GET /.well-known/appspecific/com.chrome.devtools.json 404 0ms","service":"mi-servidor","timestamp":"2026-02-17 11:52:24"}
{"level":"warn","message":"Route not found: GET /.well-known/appspecific/com.chrome.devtools.json","service":"mi-servidor","timestamp":"2026-02-17 11:52:33"}
{"level":"info","message":"GET /.well-known/appspecific/com.chrome.devtools.json 404 0ms","service":"mi-servidor","timestamp":"2026-02-17 11:52:33"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 12:01:10"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 12:05:20"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 12:05:20"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 12:05:20"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 13:55:50"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 13:57:01"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 13:57:01"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 13:57:01"}
{"level":"info","message":"GET /health 200 2ms","service":"mi-servidor","timestamp":"2026-02-17 13:57:44"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"error","message":"MongoDB error:","service":"mi-servidor","stack":"MongooseError: Operation `admins.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 13:57:59"}
{"level":"info","message":"POST /auth/admin-login 503 10016ms","service":"mi-servidor","timestamp":"2026-02-17 13:57:59"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"error","message":"MongoDB error:","service":"mi-servidor","stack":"MongooseError: Operation `admins.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 13:58:09"}
{"level":"info","message":"POST /auth/admin-login 503 10003ms","service":"mi-servidor","timestamp":"2026-02-17 13:58:09"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:22:3)","timestamp":"2026-02-17 14:05:05"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 14:05:05"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 14:05:05"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:09:39"}
{"level":"info","message":"POST /auth/admin-login 401 10084ms","service":"mi-servidor","timestamp":"2026-02-17 14:09:39"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:10:29"}
{"level":"info","message":"POST /auth/admin-login 401 10062ms","service":"mi-servidor","timestamp":"2026-02-17 14:10:29"}
{"level":"info","message":"✅ Autenticación en memoria inicializada","service":"mi-servidor","timestamp":"2026-02-17 14:12:31"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:26:3)","timestamp":"2026-02-17 14:12:36"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 14:12:36"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 14:12:36"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:16:33"}
{"error":"Operation `auditlogs.insertOne()` buffering timed out after 10000ms","level":"error","message":"Audit log failed (non-blocking):","service":"mi-servidor","stack":"MongooseError: Operation `auditlogs.insertOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 14:16:43"}
{"level":"info","message":"✅ Admin login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:16:43","username":"admin"}
{"level":"info","message":"✅ Autenticación en memoria inicializada","service":"mi-servidor","timestamp":"2026-02-17 14:17:03"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:26:3)","timestamp":"2026-02-17 14:17:08"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 14:17:08"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 14:17:08"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:17:59"}
{"error":"Operation `auditlogs.insertOne()` buffering timed out after 10000ms","level":"error","message":"Audit log failed (non-blocking):","service":"mi-servidor","stack":"MongooseError: Operation `auditlogs.insertOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 14:18:09"}
{"level":"info","message":"✅ Admin login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:18:09","username":"admin"}
{"level":"info","message":"POST /auth/admin-login 200 20080ms","service":"mi-servidor","timestamp":"2026-02-17 14:18:09"}
{"level":"info","message":"GET /health 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 14:19:28"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:20:43"}
{"level":"info","message":"GET /test-credentials 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 14:20:53"}
{"error":"Operation `auditlogs.insertOne()` buffering timed out after 10000ms","level":"error","message":"Audit log failed (non-blocking):","service":"mi-servidor","stack":"MongooseError: Operation `auditlogs.insertOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 14:20:53"}
{"level":"info","message":"✅ Admin login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:20:53","username":"admin"}
{"error":"Operation `leaders.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:21:50"}
{"email":"lider@example.com","level":"info","message":"✅ Leader login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:21:50"}
{"level":"info","message":"POST /auth/leader-login 200 10065ms","service":"mi-servidor","timestamp":"2026-02-17 14:21:50"}
{"level":"info","message":"GET /health 200 0ms","service":"mi-servidor","timestamp":"2026-02-17 14:23:58"}
{"level":"info","message":"GET /test-credentials 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 14:23:58"}
{"level":"error","message":"Unhandled error: ENOENT: no such file or directory, stat 'C:\\Users\\Janus\\Desktop\\mi-servidor\\public\\app.html'","service":"mi-servidor","stack":"Error: ENOENT: no such file or directory, stat 'C:\\Users\\Janus\\Desktop\\mi-servidor\\public\\app.html'","timestamp":"2026-02-17 14:25:26"}
{"level":"info","message":"GET /app 404 1ms","service":"mi-servidor","timestamp":"2026-02-17 14:25:26"}
{"level":"info","message":"GET /form 200 1ms","service":"mi-servidor","timestamp":"2026-02-17 14:25:26"}
{"level":"info","message":"✅ Autenticación en memoria inicializada","service":"mi-servidor","timestamp":"2026-02-17 14:44:41"}
{"error":"connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","level":"error","message":"✗ Error conectando a MongoDB:","service":"mi-servidor","stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1169:11)\n    at NativeConnection.openUri (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\connection.js:1100:11)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:569:9)\n    at process.processTimers (node:internal/timers:543:7)\n    at async connectDB (file:///C:/Users/Janus/Desktop/mi-servidor/src/config/db.js:8:5)\n    at async start (file:///C:/Users/Janus/Desktop/mi-servidor/server.js:26:3)","timestamp":"2026-02-17 14:44:47"}
{"level":"warn","message":"⚠️ Continuando sin base de datos (algunos endpoints pueden no funcionar)","service":"mi-servidor","timestamp":"2026-02-17 14:44:47"}
{"level":"info","message":"✓ Servidor corriendo en puerto 5000 (development)","service":"mi-servidor","timestamp":"2026-02-17 14:44:47"}
{"level":"error","message":"Unhandled error: Expected property name or '}' in JSON at position 1 (line 1 column 2)","service":"mi-servidor","stack":"SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:508:28)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2026-02-17 14:48:27"}
{"level":"warn","message":"Route not found: POST /api/admin/login","service":"mi-servidor","timestamp":"2026-02-17 14:48:37"}
{"level":"info","message":"POST /api/admin/login 404 2ms","service":"mi-servidor","timestamp":"2026-02-17 14:48:37"}
{"level":"warn","message":"Route not found: POST /auth/admin-login","service":"mi-servidor","timestamp":"2026-02-17 14:49:23"}
{"level":"info","message":"POST /auth/admin-login 404 1ms","service":"mi-servidor","timestamp":"2026-02-17 14:49:23"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:49:45"}
{"error":"Operation `auditlogs.insertOne()` buffering timed out after 10000ms","level":"error","message":"Audit log failed (non-blocking):","service":"mi-servidor","stack":"MongooseError: Operation `auditlogs.insertOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 14:49:55"}
{"level":"info","message":"✅ Admin login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:49:55","username":"admin"}
{"level":"info","message":"POST /auth/admin-login 200 20106ms","service":"mi-servidor","timestamp":"2026-02-17 14:49:55"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:50:49"}
{"error":"Operation `auditlogs.insertOne()` buffering timed out after 10000ms","level":"error","message":"Audit log failed (non-blocking):","service":"mi-servidor","stack":"MongooseError: Operation `auditlogs.insertOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 14:51:00"}
{"level":"info","message":"✅ Admin login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:51:00","username":"admin"}
{"level":"info","message":"POST /auth/admin-login 200 20063ms","service":"mi-servidor","timestamp":"2026-02-17 14:51:00"}
{"error":"Operation `admins.findOne()` buffering timed out after 10000ms","level":"warn","message":"MongoDB no disponible para auth, usando fallback en memoria","service":"mi-servidor","timestamp":"2026-02-17 14:52:22"}
{"error":"Operation `auditlogs.insertOne()` buffering timed out after 10000ms","level":"error","message":"Audit log failed (non-blocking):","service":"mi-servidor","stack":"MongooseError: Operation `auditlogs.insertOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\Janus\\Desktop\\mi-servidor\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:608:17)\n    at process.processTimers (node:internal/timers:543:7)","timestamp":"2026-02-17 14:52:32"}
{"level":"info","message":"✅ Admin login exitoso [memory]","service":"mi-servidor","source":"memory","timestamp":"2026-02-17 14:52:32","username":"admin"}
